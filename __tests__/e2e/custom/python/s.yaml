edition: 3.0.0
name: test-custom-python
access: "quanxi"

resources:
  helloworld:
    component: ${env('fc_component_version', path('../../../../'))}
    props:
      region: cn-huhehaote
      functionName: fc3-event-custom-${env('fc_component_function_name', 'python310')}
      handler: index.handler
      timeout: 60
      memorySize: 1536
      cpu: 1
      diskSize: 512
      runtime: custom
      code: ./code
      instanceConcurrency: 10
      environmentVariables:
        PYTHONPATH: /code/3rd-packages
        PATH: /code/3rd-packages/bin:/usr/local/bin/apache-maven/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/ruby/bin
      customRuntimeConfig:
        command:
          - gunicorn
        args:
          - '-c'
          - 'gunicorn_conf.py'
          - 'server:app'
        port: 8099